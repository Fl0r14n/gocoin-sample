<div ng-controller="GoCoinController as ctrl">
    <button class="btn btn-default" ng-click="ctrl.showPayment('BTC')">
        <img src="img/gocoin/btc_md_yes.png" alt="Bitcoin" />
    </button>
    <button class="btn btn-default" ng-click="ctrl.showPayment('LTC')">
        <img src="img/gocoin/ltc_md_yes.png" alt="Litecoin" />
    </button>
    <button class="btn btn-default" ng-click="ctrl.showPayment('XDG')">
        <img src="img/gocoin/xdg_md_yes.png" alt="Litecoin" />
    </button>    
    <div collapse="ctrl.isCollapsed">
        <div class="well well-lg">            
            <style scoped>
                .col-ms-4,
                .col-ms-8 {
                    position: relative;
                    min-height: 1px;
                    padding-left: 15px;
                    padding-right: 15px; }
                @media (min-width: 480px) {
                    .col-ms-4,
                    .col-ms-8 {
                        float: left; }
                    .col-ms-4 {
                        width: 33.33333%; }
                    .col-ms-8 {
                        width: 66.66667%; }
                }
                .visible-ms {
                    display: none !important;
                }
                @media (max-width: 480px) {
                    .hidden-ms {
                        display: none !important;
                    }
                    .visible-ms {
                        display: block !important;
                    }
                }
                .qrcode {
                    max-width: 100%;
                }
                .payment-panel {
                    max-width: 780px;
                }
                .payment-timer {
                    font-size: 32px;
                    font-style: italic;
                    font-weight: bold;
                    color: #a94442;
                }
                .payment-expired {
                    position: absolute;
                }
                .modal-sm {
                    margin: 30px auto !important;
                    width: 222px !important;
                }
            </style>
            <script type="text/ng-template" id="qrcodeModal.html">
                <qrcode class="modal-payment" version="8" error-correction-level="M" size="220" data="crypto_url"></qrcode>            
            </script>
            <div class="container-fluid payment-panel">
                <div class="row center-block">
                    <p class="h3">{{ctrl.merchantName}}</p>
                </div>
                <div class="row">
                    <div class="col-ms-4" ng-show="ctrl.invoice.crypto_url">                        
                        <qrcode class="hidden-ms" version="8" error-correction-level="M" size="220" data="{{ctrl.invoice.crypto_url}}"></qrcode>
                        <a class="btn btn-default btn-block visible-ms" ng-click="ctrl.openModal('sm')">
                            Show QR code
                        </a> 
                        <a class="btn btn-default btn-block" href="{{ctrl.invoice.crypto_url}}">Launch Wallet</a>
                    </div>
                    <div class="col-ms-4" ng-hide="ctrl.invoice.crypto_url">
                        <img class="img-responsive" src="img/gocoin/noQR.png" alt="no QR code available">
                    </div>
                    <div class="col-ms-8 ">
                        <div ng-show="self.time_remaining == 0 && ctrl.invoice.status == 'unpaid'">
                            <img class="payment-expired" src="img/gocoin/expired.png" alt="expired"/>
                        </div>
                        <div ng-show="self.time_remaining == 0 && ctrl.invoice.status == 'paid'">
                            <img class="payment-expired" src="img/gocoin/paid.png" alt="paid"/>
                        </div>
                        <p class="h4">Price: <b class="text-primary">{{ctrl.invoice.base_price}}</b><span class="text-primary"> {{ctrl.invoice.base_price_currency_detail.symbol}}</span></p>
                        <p class="h4">Crypto: <span class="text-primary">{{ctrl.invoice.price}} {{ctrl.invoice.price_currency_detail.symbol}}</span></p>                        
                        <b>{{ctrl.invoice.payment_address}}</b>
                        <p class="text-center"><a href="" ng-click="ctrl.checkStatus()">Check payment status</a></p>
                        <p class="text-center payment-timer" ng-hide="self.time_remaining == 0">{{ctrl.time_remaining | date:'mm:ss'}}*</p>
                        <p class="h6 text-muted">*This address is only active during the allotted time.<br/>It is only useable for this purchase. Do not save it for any reason.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>    
</div>